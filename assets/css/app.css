:root{
  --bg:#0b0f14; --card:#121a23; --muted:#9fb0c3; --text:#e8f0fb;
  --line:#223041; --accent:#4aa3ff; --danger:#ff5a6a;
}

*{ box-sizing:border-box; }
body{ margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text); }
a{ color:inherit; text-decoration:none; }

.page{ max-width:720px; margin:0 auto; padding:18px; }
.hero{ padding:10px 0 14px; }
.hero h1{ margin:0 0 6px; font-size:26px; }
.muted{ color:var(--muted); }

.card{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:14px; }
.divider{ height:1px; background:var(--line); margin:12px 0; }

.btn{
  display:block;          /* ✅ tohle opraví překryv <a> tlačítka */
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid var(--line);
  background:transparent;
  color:var(--text);
  font-weight:600;
  text-align:center;      /* aby <a> vypadalo jako button */
}
.btn.primary{ background:var(--accent); border-color:transparent; color:#04101f; }
.btn.danger{ background:var(--danger); border-color:transparent; color:#1b0206; }
.btn + .btn{ margin-top:10px; }

.row{ display:flex; justify-content:space-between; align-items:center; gap:10px; margin:10px 0; }
.label{ font-weight:700; }
.pill{ border:1px solid var(--line); border-radius:999px; padding:4px 10px; color:var(--muted); font-size:12px; }
.mono{ font-variant-numeric:tabular-nums; font-family:ui-monospace,SFMono-Regular,Menlo,monospace; }

.howto summary{ cursor:pointer; color:var(--muted); }
.howto ol{ margin:10px 0 0 18px; color:var(--muted); }

/* GAME */
body.game{ height:100vh; overflow:hidden; }
#map{ height:100vh; width:100vw; }

.statusbar{
  position:fixed; top:0; left:0; right:0;
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 12px; z-index:99999;
  background:rgba(11,15,20,.85); backdrop-filter: blur(8px);
  border-bottom:1px solid rgba(34,48,65,.6);
}
.status-left{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.status-right{ display:flex; gap:8px; }
.iconbtn{
  width:40px; height:40px; border-radius:12px;
  border:1px solid var(--line); background:rgba(18,26,35,.8); color:var(--text);
}

.sheet{
  position:fixed; left:12px; right:12px; bottom:12px;
  background:rgba(18,26,35,.92);
  border:1px solid rgba(34,48,65,.8);
  border-radius:16px; padding:12px;
  z-index:99998;
}
.sheet-header{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
.kicker{ color:var(--muted); font-size:12px; margin-bottom:2px; }
.sheet h2{ margin:0; font-size:18px; }
.story{ color:var(--muted); margin:10px 0 8px; }
.task{ margin:0 0 10px; }

.inputRow{ display:flex; gap:10px; }
.input{
  flex:1; padding:12px 12px; border-radius:12px;
  border:1px solid var(--line); background:#0f1620; color:var(--text);
}

.mcq{
  display:grid; grid-template-columns: 1fr 1fr; gap:8px;
}

.mcq button{width:100%;
}

.evidence{ margin-top:10px; }
.chips{ display:flex; flex-wrap:wrap; gap:8px; margin-top:6px; }
.chip{ border:1px solid var(--line); border-radius:999px; padding:6px 10px; font-size:12px; color:var(--muted); }

/* modals */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.55);
  display:none; align-items:center; justify-content:center;
  padding:14px; z-index:999999;
}
.modal{ width:min(520px,100%); background:var(--card); border:1px solid var(--line); border-radius:16px; padding:14px; }
.modal h3{ margin:0 0 10px; }
.hintBtns{ display:grid; gap:8px; }
.hintText{ margin-top:10px; color:var(--muted); min-height:40px; }
.modalActions{ margin-top:10px; }

.toast{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:220px; background:#0f1620; border:1px solid var(--line);
  padding:10px 12px; border-radius:12px; display:none;
  z-index:999999;
}

/* Progress */
.progresswrap{
  position:fixed;
  top:56px; /* pod statusbarem */
  left:0; right:0;
  padding:8px 12px;
  z-index:99998;
  background:rgba(11,15,20,.75);
  backdrop-filter: blur(8px);
  border-bottom:1px solid rgba(34,48,65,.6);
}
.progressmeta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  gap:10px;
}
.progressbar{
  height:10px;
  background:rgba(34,48,65,.55);
  border:1px solid rgba(34,48,65,.9);
  border-radius:999px;
  overflow:hidden;
}
.progressfill{
  height:100%;
  background:var(--accent);
  width:0%;
  transition:width .35s ease;
}
/* iOS: zabraň divnému "zvětšení" po tapnutí na tlačítko */
button, .btn, .iconbtn{
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
/* iOS: sjednotí vzhled a zabrání auto-zoom/focus efektům */
button, .btn, .iconbtn{
  -webkit-appearance: none;
  appearance: none;
}
.mcq button, .input{
  font-size:16px;
}
/* ===== Spacing system (clean layout) ===== */

.page > * + * {
  margin-top: 18px;
}

/* Team card spacing */
.teamCard{
  padding: 16px;
}

.teamCard > * + *{
  margin-top: 12px;
}

/* Větší mezera pod team card */
.teamCard{
  margin-bottom: 18px;
}

/* Lepší vertikální rytmus v sekci card */
.card > * + *{
  margin-top: 14px;
}
